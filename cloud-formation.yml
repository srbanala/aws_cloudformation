Parameters:
  KeyName:
    Description: Name of the existing keypair to ssh into ec2 instance.
    Type: AWS::EC2::KeyPair::KeyName

  VpcId:
    Description: Terraform VPC
    Type: AWS::EC2::VPC::Id

  PublicSubnetId:
    Type: AWS::EC2::Subnet::Id
    Description: Enter Public subnet id

Resources:
  HelloBucket:
    Type: 'AWS::S3::Bucket'
    Properties:
      AccessControl: PublicRead

  Ec2Instance:
    Type: 'AWS::EC2::Instance'
    Properties:
      SecurityGroupIds:
        - sg-0f6cedcca566f8e86
      KeyName: !Ref KeyName
      ImageId: 'ami-0ed9277fb7eb570c9'
      SubnetId: !Ref PublicSubnetId
      InstanceType: 't2.micro'

